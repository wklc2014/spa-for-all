<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv=Content-Type content='text/html; charset=utf-8'>
<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Crafty - Getting started - Building your first Game</title>
	<link type="text/css" rel="stylesheet" href="../craftyjs-site.css"  />



	<link rel="shortcut icon" href="/favicon.ico">
	<script src="../jquery.min.js"  type="text/javascript"></script>
	<link rel="stylesheet" href="../github.css" />

</head>
<body>
	<div id = "header-background"> </div>
	<div id = "page-frame">
	<div id="header">
		<nav class="navbar">
  			<div class="container-fluid">
  				<div class="navbar-header">
  					<a class="navbar-brand" href="../index.htm" > <img class="logo" src="../images/text-logo.png"  /> </a>

				</div>
				<div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li><a href="../index.htm" >Home</a></li>
						<li><a href="index.htm" >Getting started</a></li>
						<li><a href="../documentation/index.htm" >Documentation</a></li>
						<li><a href="../api/index.htm" >API</a></li>
						<li><a href="javascript:if(confirm('https://groups.google.com/forum/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://groups.google.com/forum/#!forum/craftyjs'" >Forum</a></li>
						<li><a href="../components/index.htm" >Components</a></li>
						<li class="emph"><a href="../index.htm#install" >Download</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>


	<div id="main">
		<div id="content" class="container">

<div id='quickstart'>
	<div id='doc-nav'>
		<ul id='doc-level-one'>
			<li>

			</li>

		</ul>
	</div>
	<div id='doc-content' class="markdown">

		<span class="edit-on-github">
		  <a href="javascript:if(confirm('https://github.com/craftyjs/craftyjs.github.com/edit/master/source/getting-started/index.md  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/craftyjs/craftyjs.github.com/edit/master/source/getting-started/index.md'" >Edit on Github</a>
		</span>

		<h2> Getting started - Building your first Game </h2>
<p>This is a very quick guide to using Crafty.</p>
<p>For a more thorough but somewhat out-dated guide, check out <a href="javascript:if(confirm('http://buildnewgames.com/introduction-to-crafty/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://buildnewgames.com/introduction-to-crafty/'" >Darren Torpey&#39;s tutorial</a>.  (As of 0.6.3, in addition to the changes Darren mentions at the end, you&#39;ll need to change the signature of <a href="../api/Crafty-loader.html" ><code>Crafty.load</code></a>)</p>
<h2 id="setup">Setup</h2>
<p>First let&#39;s setup our HTML file.  We&#39;re trying to get you up and running quickly, so we&#39;ll just directly link to the latest release version.  (Of course you can also <a href="../index.htm#install" >install it</a> locally!)</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"game"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://rawgithub.com/craftyjs/Crafty/release/dist/crafty-min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      Crafty.init(<span class="hljs-number">500</span>,<span class="hljs-number">350</span>, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'game'</span>));
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
<p>A Crafty.js game is build up of entities -- the player character, enemies, and obstacles are all represented this way.</p>
<p>Lets start by creating a simple colored square:</p>
<pre><code class="language-javascript">Crafty.e(<span class="hljs-string">'2D, DOM, Color'</span>).attr({<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">100</span>}).color(<span class="hljs-string">'#F00'</span>);</code></pre>
<p>There are a few things going on here:</p>
<ul>
<li>We first call <a href="../api/Crafty-e.html" ><code>Crafty.e</code></a> with a list of components to add to the entity.  Components provide basic building blocks of functionality. In this case, we add <a href="../api/2D.html" >2D</a>, <a href="../api/DOM.html" >DOM</a>, and <a href="../api/Color.html" >Color</a>.  You can learn more about those later!</li>
<li>We then call two methods of our newly created entity: <code>attr()</code> and <code>color()</code>.  The <code>attr</code> method is one of <a href="../api/Crafty Core.html" >many</a> that all entities share, but <code>color()</code> is (unsuprisingly) provided by the &quot;Color&quot; component.  Most methods you call on an entity will return the entity itself, allowing method chaining as in the above example.</li>
</ul>
<p>The full code would look something like this now:</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"game"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://rawgithub.com/craftyjs/Crafty/release/dist/crafty-min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      Crafty.init(<span class="hljs-number">500</span>,<span class="hljs-number">350</span>, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'game'</span>));
      Crafty.e(<span class="hljs-string">'2D, DOM, Color'</span>).attr({<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">100</span>}).color(<span class="hljs-string">'#F00'</span>);
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
<p>And when executed:</p>
<iframe width="100%" height="300" src="../../jsfiddle.net/kevinsimper/pShLx/embedded/result,js,html/index.htm"  allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>Now that we got something to show up on the screen, lets try making it move by using the keyboard arrows.</p>
<p>That can be done with the <a href="../api/Fourway.html" >&quot;Fourway&quot;</a> component. This component is well suited for games with a top-down perspective and enables us to move in four directions (as the name suggests).</p>
<pre><code class="language-javascript">Crafty.e(<span class="hljs-string">'2D, DOM, Color, Fourway'</span>)
  .attr({<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">100</span>})
  .color(<span class="hljs-string">'#F00'</span>)
  .fourway(<span class="hljs-number">200</span>);</code></pre>
<p>Notice how we added the name of this component to the string after Color. This adds new methods like the &quot;.fourway&quot; function. The number which is passed to the function determines the speed, so if the number is higher it will move even faster.</p>
<iframe width="100%" height="300" src="../../jsfiddle.net/mucaho/w5m40ofL/embedded/result,js,html/index.htm"  allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>Lets try to make it look like a platform game, where the entity is impacted by gravity. That can be done with the &quot;Gravity&quot; component. </p>
<p>But if we added the Gravity component now, the entity would just fall because there is nothing to stop it from falling.  So lets add a long, thin green box which will provide a surface to fall upon:</p>
<pre><code class="language-javascript">Crafty.e(<span class="hljs-string">'Floor, 2D, Canvas, Color'</span>)
  .attr({<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">250</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">250</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">10</span>})
  .color(<span class="hljs-string">'green'</span>);</code></pre>
<p>Notice how we added a new component called &quot;Floor&quot; to this entity.  You won&#39;t find this component in the api docs, and it doesn&#39;t add any new methods.  It&#39;s a name we just made up, and it serves to tag this entity.</p>
<p>The Gravity component should only be added to entities which should be falling, so we do not need to add it to our new entity.</p>
<p>Now we&#39;ll add the Gravity component to our previous red box:</p>
<pre><code class="language-js">Crafty.e(<span class="hljs-string">'2D, Canvas, Color, Twoway, Gravity'</span>)
  .attr({<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">w</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">h</span>: <span class="hljs-number">50</span>})
  .color(<span class="hljs-string">'#F00'</span>)
  .twoway(<span class="hljs-number">200</span>)
  .gravity(<span class="hljs-string">'Floor'</span>);</code></pre>
<p>You should notice that the &quot;.gravity()&quot; function has been called with the argument &quot;Floor&quot;. That means that all entites which have the Floor component prevent the entity from falling further.</p>
<p>Additionally, we replaced the Fourway component with the <a href="../api/Twoway.html" >&quot;Twoway&quot;</a> component. This component is well suited for side-scrolling platformers and enables us to move in two directions (as the name suggests). It also allows us to jump in combination with the Gravity component. Notice that we replaced the &quot;fourway&quot; function with the &quot;twoway&quot; function, which is similarly used to specify the movement speed.</p>
<iframe width="100%" height="300" src="../../jsfiddle.net/mucaho/v8okhwob/embedded/result,js"  allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>Well, that&#39;s not really a very good game, but its a start!  To learn more about how to use Crafty, you can explore both our <a href="../documentation/index.htm" >overview</a> of common topics, and detailed <a href="../api/index.htm" >api documentation</a>. </p>
	</div>
</div>


		</div>
	</div>
	<div class="clearer"></div>
	<div id="footer">
		<div id="contact">
			<a href="javascript:if(confirm('https://groups.google.com/forum/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://groups.google.com/forum/#!forum/craftyjs'" >
				<img src="../images/google.png"  />
				google groups</a>
			<a href="mailto:starwed@gmail.com">
				<img src="../images/email.png"  />
				starwed@gmail.com</a>
			<a href="javascript:if(confirm('https://github.com/craftyjs/Crafty  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/craftyjs/Crafty'" >
				<img src="../images/github.png"  />
				github</a>
		</div>
		<ul>
			<li><a href="../index.htm" >Home</a></li>
				<li><a href="index.htm" >Getting started</a></li>
				<li><a href="../documentation/index.htm" >Documentation</a></li>
				<li><a href="../api/index.htm" >API</a></li>
				<li><a href="javascript:if(confirm('https://groups.google.com/forum/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://groups.google.com/forum/#!forum/craftyjs'" >Forum</a></li>
				<li><a href="../components/index.htm" >Modules</a></li>
				<li class="emph"><a href="../index.htm#install" >Download</a></li>
		</ul>
		<p>
			&copy; Crafty 2010-2015. Crafty is distributed under the <a href="javascript:if(confirm('http://en.wikipedia.org/wiki/MIT_License  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://en.wikipedia.org/wiki/MIT_License'" >MIT License</a>.
		</p>
	</div>
</div>
</body>
</html>
